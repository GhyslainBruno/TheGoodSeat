(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{81:function(e,t,n){e.exports=n(96)},86:function(e,t,n){},87:function(e,t,n){},96:function(e,t,n){"use strict";n.r(t),n.d(t,"history",(function(){return $}));var a=n(0),r=n.n(a),c=n(8),u=n.n(c),i=(n(86),n(14)),l=(n(87),n(132)),o=n(133),s=n(134),E=n(131),f=n(138),m=n(18),d=n(136),g=function(e,t){return function(n){n(v(e,t))}},p=function(){return{type:"CLOSE_SNACK_BAR"}},v=function(e,t){return{type:"OPEN_SNACK_BAR",payload:{message:e,severity:t}}},b=n(9),h=n(97),S=n(135),O=n(129),j=n(15),y=n.n(j),_=n(22),R=n(44);var L=n(24),N=function(){var e=Object(a.useState)("test@gmail.com"),t=Object(b.a)(e,2),n=t[0],c=t[1],u=Object(a.useState)("+33667182298"),i=Object(b.a)(u,2),l=i[0],o=i[1],s=Object(m.b)();return r.a.createElement(h.a,{elevation:1,className:"signInCard"},r.a.createElement("form",{onSubmit:function(e){s(function(e,t){return function(){var n=Object(_.a)(y.a.mark((function n(a){var r,c;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:"USER_SIGNIN_REQUESTED"}),r={responseType:"json",json:{email:e,phoneNumber:t}},n.next=5,R.a.post("/signin",r).json();case 5:(c=n.sent).user&&(a(g("User signed in","success")),a({type:"USER_SIGNIN_FULFILLED",payload:c.user}),$.push("/offers")),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(0),a(g("Error during sign in","error")),a({type:"USER_SIGNIN_REJECTED",payload:"Error during sign in"});case 13:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()}(n,l)),e.preventDefault()}},r.a.createElement("div",null,r.a.createElement(S.a,{label:"email",type:"email",value:n,onChange:function(e){return c(e.target.value)}})),r.a.createElement("div",null,r.a.createElement(S.a,{label:"Phone Number",type:"string",value:l,onChange:function(e){return o(e.target.value)}})),r.a.createElement(O.a,{type:"submit"},"Sign In"),r.a.createElement("div",null,r.a.createElement(L.a,{to:"/signup"},"Don't have an account ? Sign Up"))))},C=n(130),U=n(71),I=n.n(U),D=function(){var e=Object(a.useState)("test@gmail.com"),t=Object(b.a)(e,2),n=t[0],c=t[1],u=Object(a.useState)("Kim"),i=Object(b.a)(u,2),l=i[0],o=i[1],s=Object(a.useState)("Hernandez"),E=Object(b.a)(s,2),f=E[0],d=E[1],p=Object(a.useState)("1996-05-17"),v=Object(b.a)(p,2),j=v[0],N=v[1],U=Object(a.useState)("+33667182298"),D=Object(b.a)(U,2),F=D[0],w=D[1],T=Object(a.useState)(!0),x=Object(b.a)(T,2),k=x[0],A=x[1],P=Object(a.useState)("France"),G=Object(b.a)(P,2),B=G[0],H=G[1],J=Object(m.b)();return r.a.createElement(h.a,{elevation:1,className:"signInCard"},r.a.createElement("form",{onSubmit:function(e){J(function(e,t,n,a,r,c,u){return function(){var i=Object(_.a)(y.a.mark((function i(l){var o;return y.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,l({type:"USER_SIGNUP_REQUESTED"}),o={responseType:"json",json:{email:e,firstName:t,lastName:n,birthDate:a,phoneNumber:r,isPhoneNumberVerified:c,country:u}},i.next=5,R.a.post("/signup",o).json();case 5:i.sent.user&&(l(g("User signed up","success")),l({type:"USER_SIGNUP_FULFILLED"}),$.push("/signin")),i.next=13;break;case 9:i.prev=9,i.t0=i.catch(0),l(g("Error during sign up","error")),l({type:"USER_SIGNUP_REJECTED",payload:"Error during sign up"});case 13:case"end":return i.stop()}}),i,null,[[0,9]])})));return function(e){return i.apply(this,arguments)}}()}(n,l,f,j,F,k,B)),e.preventDefault()}},r.a.createElement("div",null,r.a.createElement(S.a,{type:"email",label:"Email",value:n,onChange:function(e){return c(e.target.value)}})),r.a.createElement("div",null,r.a.createElement(S.a,{type:"string",label:"First Name",value:l,onChange:function(e){return o(e.target.value)}})),r.a.createElement("div",null,r.a.createElement(S.a,{type:"string",label:"Last Name",value:f,onChange:function(e){return d(e.target.value)}})),r.a.createElement("div",null,r.a.createElement(S.a,{type:"string",label:"Birth Date",value:j,onChange:function(e){return N(e.target.value)}})),r.a.createElement("div",null,r.a.createElement(S.a,{type:"string",label:"Phone Number",value:F,onChange:function(e){return w(e.target.value)}})),r.a.createElement("div",null,"Is Phone Number Verified :",r.a.createElement(C.a,{value:"check",selected:k,onChange:function(){return A(!k)}},r.a.createElement(I.a,null))),r.a.createElement("div",null,r.a.createElement(S.a,{type:"string",label:"Country",value:B,onChange:function(e){return H(e.target.value)}})),r.a.createElement(O.a,{type:"submit"},"Sign Up"),r.a.createElement("div",null,r.a.createElement(L.a,{to:"/signin"},"Already have an account ? Sign In"))))},F=function(){return{type:"OFFERS_SEARCH_REQUESTED"}},w=function(e){return{type:"OFFERS_SEARCH_REJECTED"}},T=function(e){return{type:"OFFERS_SEARCH_FULFILLED",payload:e}},x=function(e){return r.a.createElement(h.a,{elevation:1,className:"offerCard"},r.a.createElement("div",null,"Price ",e.offer.price," ",e.offer.currency," - Arrive in ",e.offer.waitingTime?(e.offer.waitingTime/60).toFixed(0)+"m "+e.offer.waitingTime%60+"s":"less than a minute"))},k=function(){var e=Object(m.c)((function(e){return e.offersReducer.offers}));return r.a.createElement("div",null,e.map((function(e){return r.a.createElement(x,{offer:e,key:e.price})})))},A=function(){var e=Object(m.c)((function(e){return e.authenticationReducer.user})),t=Object(m.c)((function(e){return e.offersReducer.searchLoading})),n=Object(a.useState)("48.870377"),c=Object(b.a)(n,2),u=c[0],i=c[1],l=Object(a.useState)("2.370615"),o=Object(b.a)(l,2),s=o[0],f=o[1],d=Object(a.useState)("48.882719"),p=Object(b.a)(d,2),v=p[0],j=p[1],L=Object(a.useState)("2.322451"),N=Object(b.a)(L,2),C=N[0],U=N[1],I=Object(m.b)();return r.a.createElement("div",null,"Search Offers Component",r.a.createElement("form",{onSubmit:function(t){I(function(e,t,n,a,r){return function(){var c=Object(_.a)(y.a.mark((function c(u){var i;return y.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,u(F()),c.next=4,R.a.get("/offers?startLatitude=".concat(t,"&startLongitude=").concat(n,"&endLatitude=").concat(a,"&endLongitude=").concat(r),{headers:{Authorization:"Bearer ".concat(e.userToken)}}).json();case 4:(i=c.sent).offers&&(u(g("Offers search successful","success")),u(T(i.offers))),c.next=12;break;case 8:c.prev=8,c.t0=c.catch(0),u(g("Error during offers search","error")),u(w("Error during offers search"));case 12:case"end":return c.stop()}}),c,null,[[0,8]])})));return function(e){return c.apply(this,arguments)}}()}(e,u,s,v,C)),t.preventDefault()}},r.a.createElement(h.a,{elevation:1,className:"signInCard"},r.a.createElement("div",null,r.a.createElement(S.a,{type:"string",label:"Start Latitude",value:u,onChange:function(e){return i(e.target.value)}}),r.a.createElement(S.a,{type:"string",label:"Start Longitude",value:s,onChange:function(e){return f(e.target.value)}})),r.a.createElement("div",null,r.a.createElement(S.a,{type:"string",label:"End Latitude",value:v,onChange:function(e){return j(e.target.value)}}),r.a.createElement(S.a,{type:"string",label:"End Longitude",value:C,onChange:function(e){return U(e.target.value)}})),r.a.createElement(O.a,{type:"submit"},"Search"),t?r.a.createElement(E.a,{color:"secondary"}):null)),r.a.createElement(k,null))},P=function(){return r.a.createElement(h.a,{elevation:1,className:"signInCard"},r.a.createElement("div",null,r.a.createElement("div",null,"Home Page - technical test for The Good Seat company"),r.a.createElement("div",null,r.a.createElement(L.a,{to:"/signin"},"Sign In")),r.a.createElement("div",null,r.a.createElement(L.a,{to:"/signup"},"Sign Up"))))};function G(e){return r.a.createElement(d.a,Object.assign({elevation:6,variant:"filled"},e))}var B=Object(i.f)((function(){var e=Object(m.c)((function(e){return e.authenticationReducer.user})),t=Object(m.c)((function(e){return e.authenticationReducer.userLoading})),n=Object(m.c)((function(e){return e.snackBar.open})),a=Object(m.c)((function(e){return e.snackBar.message})),c=Object(m.c)((function(e){return e.snackBar.severity})),u=Object(m.b)();return r.a.createElement("main",null,r.a.createElement(l.a,{position:"static"},r.a.createElement(o.a,null,r.a.createElement(s.a,{style:{flex:"1"},variant:"h6"},"The Good Seat"),r.a.createElement("div",null,e?e.email:null),r.a.createElement("div",null,t?r.a.createElement(E.a,{color:"secondary"}):null))),e?r.a.createElement("div",null,r.a.createElement(i.b,{exact:!0,path:"/",render:function(){return r.a.createElement(i.a,{to:"/offers"})}}),r.a.createElement(i.b,{exact:!0,path:"/signin",render:function(){return r.a.createElement(N,null)}}),r.a.createElement(i.b,{exact:!0,path:"/signup",render:function(){return r.a.createElement(D,null)}}),r.a.createElement(i.b,{exact:!0,path:"/offers",render:function(){return r.a.createElement(A,null)}})):r.a.createElement("div",null,r.a.createElement(i.b,{exact:!0,path:"/offers",render:function(){return r.a.createElement(i.a,{to:"/signin"})}}),r.a.createElement(i.b,{exact:!0,path:"/signin",render:function(){return r.a.createElement(N,null)}}),r.a.createElement(i.b,{exact:!0,path:"/signup",render:function(){return r.a.createElement(D,null)}}),r.a.createElement(i.b,{exact:!0,path:"/",render:function(){return r.a.createElement(P,null)}})),r.a.createElement(f.a,{autoHideDuration:3e3,open:n,onClose:function(){u((function(e){e(p())}))}},r.a.createElement(G,{severity:c},a)))})),H=n(28),J=n(72),Q={user:null,userLoading:!1,error:!1,message:""};var K={open:!1,message:"",severity:""};var V={offers:[],searchLoading:!1};var z=Object(H.c)({authenticationReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_SIGNUP_REQUESTED":return Object.assign({},e,{user:"foobar",userLoading:!0});case"USER_SIGNUP_FULFILLED":return Object.assign({},e,{userLoading:!1});case"USER_SIGNUP_REJECTED":return Object.assign({},e,{user:null,userLoading:!1,error:!0,message:t.payload});case"USER_SIGNIN_REQUESTED":return Object.assign({},e,{user:null,userLoading:!0});case"USER_SIGNIN_FULFILLED":return Object.assign({},e,{user:t.payload,userLoading:!1});case"USER_SIGNIN_REJECTED":return Object.assign({},e,{user:null,userLoading:!1,error:!0,message:t.payload});default:return e}},snackBar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CLOSE_SNACK_BAR":return Object.assign({},e,{open:!1});case"OPEN_SNACK_BAR":return Object.assign({},e,{open:!0,message:t.payload.message,severity:t.payload.severity});default:return e}},offersReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OFFERS_SEARCH_REQUESTED":return Object.assign({},e,{offers:[],searchLoading:!0});case"OFFERS_SEARCH_REJECTED":return Object.assign({},e,{offers:[],searchLoading:!1});case"OFFERS_SEARCH_FULFILLED":return Object.assign({},e,{offers:t.payload,searchLoading:!1});default:return e}}}),W=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||H.d,X=Object(H.e)(z,W(Object(H.a)(J.a)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var M=n(20),$=Object(M.a)();console.log("No need to worry about what's in there, trust me ;-)"),window.store=X,u.a.render(r.a.createElement(m.a,{store:X},r.a.createElement(i.c,{history:$},r.a.createElement(B,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[81,1,2]]]);
//# sourceMappingURL=main.e34068b8.chunk.js.map